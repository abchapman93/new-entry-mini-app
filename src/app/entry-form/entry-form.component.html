<div class="container">
  <h1>New Entry</h1>
  <form (ngSubmit)="onSubmit()" #entryForm="ngForm">
    {{diagnostic}}
    <div class="form-group">
      <label for="date">Date: </label>
      <input type="date" class="form-control" id="date" name="date" required
        [(ngModel)]="model.date"
        #spy>
      <!-- <br>TODO: remove this: {{spy.className}}
      <br>TODO: remove this {{model.date}} -->
    </div>

    <div class="form-group">
      <label for="severity">Severity: </label>
      <input type="number" name="severity"  class="form-control" value="0"
          required
          [(ngModel)]="model.severity">
      TODO: remove this: {{model.severity}}
      <br>
      <h2>Triggers</h2>
      <ul class="triggers">
        <li *ngFor="let trig of triggerValues"
          [class.selected]="model.triggers.includes(trig)"
          (click)="toggleTrigger(trig)">
          <span class="badge">{{trig}}</span>

        </li>
      </ul>

      <!-- <input *ngFor="let trig of triggerValues" type="checkbox" name="triggers" [(ngModel)]="model.trigger"
            value="trig"> -->
      <!-- <select class="form-control" name="trigger" id="triggers"
              [(ngModel)]="model.trigger" >
        <option *ngFor="let trig of triggerValues"
          >{{trig}}</option>
        <br>
      </select> -->
      <!-- TODO: remove this: {{model.trigger}} -->
    </div>

    <!-- TODO: the Triggers should really go here, but for some reason it goes over the button -->

    <div class="form-group">
      <label for="comments">Comments:</label>
      <!-- <input type="text" id="comments" value="Tell us what's going on."> -->
      <!-- TODO: form attribute  -->
      <textarea id="comments" rows="8" cols="80" placeholder="Tell us going what's going on."
        name="comments" [(ngModel)]="model.comments"></textarea>

    </div>

    <button type="submit" name="btn btn-success"
        [disabled]="!entryForm.form.valid">Submit</button>

  </form>

</div>
